import "@/styles/globals.css";
import "@/styles/fonts.css";
import Footer from "@/components/Footer";
import Header from "@/components/Header";
import {HeroUIProvider, ToastProvider} from "@heroui/react";
import axios from "axios";
import {useRouter} from "next/router";
import Sidebar from "@/pages/profile/_components/Sidebar/Sidebar";
import InformationProvider from "@/providers/InformationProvider";
import LanguageProvider from "@/providers/languageProvider";
import Right from "@icons/chevron-right.svg";
import Link from "next/link";
import {useState} from "react";
import HeaderProfile from "@/pages/profile/_components/HeaderProfile";

axios.defaults.baseURL = `${process.env.NEXT_PUBLIC_BASE_URL}/api`

export default function App({Component, pageProps}) {
    const {push, pathname} = useRouter();
    const [isSidebarOpen, setSidebarOpen] = useState(false);
    const [title, setTitle] = useState('')
    const open = pathname.includes('/profile')

    const isAuthPage = (pathname === "/auth/login") || (pathname === "/auth/register");
    const isProfileRoute = pathname.startsWith('/profile');

    return (
        <HeroUIProvider navigate={push}>
            <ToastProvider
                placement='top-right'
                toastProps={{
                    dir: 'rtl',
                    timeout: 3000,
                    shouldShowTimeoutProgress: true,
                    classNames: {
                        closeButton: "opacity-100 absolute left-4 right-auto top-1/2 -translate-y-1/2",
                    },
                }}/>
            {isAuthPage ? (
                    <div className='max-w-[1440px] mx-auto' dir={'rtl'}>
                        <Component {...pageProps} />
                    </div>)
                :
                <InformationProvider>
                    <LanguageProvider>
                      }
                    </LanguageProvider>
                </InformationProvider>
            }
        < /HeroUIProvider>
    );
}